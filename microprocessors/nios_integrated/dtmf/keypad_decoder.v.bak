//Keypad Decoder Module
/*
	Pinout on 4x4 keypad and which wire they are expected to be mapped to.
	  R1 - row[0]
	  R2 - row[1]
	  R3 - row[2]
	  R4 - row[3]
	  C1 - column[0]
	  C2 - column[1]
	  C3 - column[2]
	  C4 - column[3]
*/

/*
AUTHOR: GABE GARVES
EDITED BY: GRANT SELIGMAN
DATE: 2/25/2020
EDITED: 4/13/2020
FROM: TXST SENIOR DESIGN PROJECT FALL 2019-SPRING 2020
FOR: TEXAS STATE UNIVERSITY STUDENT AND INSTRUCTOR USE
*/

module keypad(key,row,column,clk);
	output reg [3:0] row,key;

	input wire clk;
	input wire [3:0] column;
	
	initial #0 row = 4'b1110;

	always @ (posedge clk) begin
		case (row)
			4'b1110:
				case (column)
					4'b1110 : key =4'b1111;
					4'b1101 : key =4'b0111;
					4'b1011 : key =4'b0100;
					4'b0111 : key =4'b0001;
					default : row  =4'b1101;
				endcase

			4'b1101:
				case (column)
					4'b1110 : key =4'b0000;
					4'b1101 : key =4'b1000;
					4'b1011 : key =4'b0101;
					4'b0111 : key =4'b0010;
					default : row  =4'b1011;
				endcase
					
			4'b1011:
				case (column)
					4'b1110 : key =4'b1110;
					4'b1101 : key =4'b1001;
					4'b1011 : key =4'b0110;
					4'b0111 : key =4'b0011;
					default : row  =4'b0111;
				endcase
					
			4'b0111:
				case (column)
					4'b1110 : key =4'b1101;
					4'b1101 : key =4'b1100;
					4'b1011 : key =4'b1011;
					4'b0111 : key =4'b1010;
					default : row  =4'b1110;
				endcase
		endcase
	end
endmodule